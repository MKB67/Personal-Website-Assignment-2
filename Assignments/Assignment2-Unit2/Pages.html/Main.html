<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Maddie</title>
    <script>
      if (localStorage.getItem("quizPassed") !== "true") {
        window.location.href = "Landing-index.html";
      }
    </script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js"></script>

    <style>
      header {
        background-color: blanchedalmond;
        font-style: italic;
      }
      h3 {
        color: rgb(238, 29, 238);
        background-color: cornsilk;
      }

      .nav {
        background-color: lavender;
        padding: 0.5rem;
        position: sticky;
        top: 0;
        z-index: 1000;
      }
      .nav ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
      }
      .nav li {
        position: relative;
        margin-right: 2rem;
      }
      .nav a {
        text-decoration: none;
        color: darkmagenta;
        font-weight: bold;
      }
      .nav li:hover > ul {
        display: block;
      }
      .nav ul ul {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: lavenderblush;
        padding: 0.5rem;
        border-radius: 8px;
      }
      .nav ul ul li {
        margin: 0;
      }
      .nav ul ul a {
        display: block;
        padding: 0.3rem 1rem;
      }

      .rose-card {
        border: 1px solid #ccc;
        padding: 1rem;
        margin-bottom: 1rem;
        border-radius: 10px;
        background-color: #fff0f5;
      }
      .rose-card button {
        background-color: darkmagenta;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 5px;
        cursor: pointer;
      }
      .rose-card button:hover {
        background-color: purple;
      }

      #cart {
        margin-top: 1rem;
        border: 1px solid #ccc;
        padding: 1rem;
        border-radius: 10px;
        background-color: #fff8f0;
      }
      #cart h3 {
        margin-top: 0;
      }
      #cart button {
        margin-top: 0.5rem;
        padding: 0.5rem 1rem;
        background-color: darkmagenta;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      #cart button:hover {
        background-color: purple;
      }
    </style>
    <link rel="stylesheet" href="../Styles.css/Main.css" />
  </head>
  <body>
    <header>
      <h1 id="Name" class="headings">Maddie Kashyap</h1>
    </header>

    <nav class="nav">
      <ul>
        <li>
          <a href="#">Work</a>
          <ul>
            <li><a href="Work-exp.html">January 2018 - Present</a></li>
          </ul>
        </li>
        <a href="More-info.html" target="_blank">Info</a>

        <li>
          <a href="#">Hobby</a>
          <ul>
            <li>
              <a href="Tourism-city.html" target="_blank">Travelling</a>
            </li>
            <li>
              <a href="reading.html" target="_blank">Reading</a>
            </li>
          </ul>
        </li>

        <li>
          <a href="Shop.html">Shop</a>
        </li>
        <li>
          <a href="#">Features</a>
          <ul>
            <li><a href="Shop.html">üõí Dynamic Rose Shop</a></li>
            <li>
              <a href="Landing-index.html">üéØ Quiz-based landing page gate</a>
            </li>
            <li><a href="Reading.html">üìö Interactive reading modals</a></li>
            <li>
              <a href="Features.html" target="_blank">üé≤ Logic Math Game</a>
            </li>
            <li>üíæ Cart persistence using localStorage</li>
            <li>üîê Account login & creation modal</li>
          </ul>
        </li>

        <li><a href="#">Account</a></li>
        <li
          id="welcomeMessage"
          style="color: darkmagenta; font-weight: bold"
        ></li>
      </ul>
    </nav>

    <div class="search"><input type="text" placeholder="search..." /></div>
    <div id="accountStatusMessage" style="display: none">
      You are already logged in.
    </div>

    <main>
      <h3>Who am I?</h3>
      <p>
        Stemming out of Vancouver's beautiful Cherry Blossoms, busy cruise
        seasons, TransLink network, innumerous tourists, thousands of food
        joints, and a generally busy schedule, there was a desire to pause,
        relax and rewind my journey this summer; To chose "the road not taken",
        my childhood favourite poem by Robert Frost (1916). Should you wish to
        familarise yorself with it, click
        <a
          href="https://www.poetryfoundation.org/poems/44272/the-road-not-taken"
          target="_blank"
          >here.</a
        >
      </p>

      <p>
        Thus formed the idea of going back to school and sow the seeds of a
        rewarding future ahead. I create this page today as part of my first
        assignment but I am already in love with all that I practice here. I
        will keep updating this page as I learn new things.
      </p>
      <br />
      <div><h3>Meanwhile, a fun fact:</h3></div>
      <p>
        I am an avid dog lover! So, when I win a lottery (&#9995; no less than
        $80 million please! &#128540;), I want to own many huge farm houses
        where I can take care of all the rescus dogs I can! - Give them a safe
        haven, and that, would be my Heaven!
      </p>

      <div
        id="greeting"
        style="margin-top: 1em; font-size: 1.2rem; font-weight: bold"
      ></div>

      <a class="contact-link" href="Contact-me.html" target="_blank"
        >Contact me</a
      >

      <footer class="footer">
        <a href="#Name">Curious about me?</a>
      </footer>
    </main>

    <script>
      document.querySelectorAll(".book").forEach((book) => {
        book.addEventListener("click", function (e) {
          e.preventDefault();
          document.getElementById("bookInfo").textContent =
            "üìñ " + this.dataset.info;
        });
      });
    </script>

    <div class="modal" id="loginModal">
      <div class="modal-content">
        <span class="close-btn" id="closeLogin">‚úñ</span>
        <h2>Login to Your Account</h2>
        <input type="email" id="loginEmail" placeholder="Email" required />
        <input
          type="password"
          id="loginPassword"
          placeholder="Password"
          required
        />
        <div
          id="loginMessage"
          style="margin-top: 10px; font-weight: bold"
        ></div>
        <button id="loginBtn">Login</button>
        <button id="createAccountBtn">Create New Account</button>
      </div>
    </div>

    <div class="modal" id="myAccountModal">
      <div class="modal-content">
        <span class="close-btn" id="closeAccount">‚úñ</span>
        <h2>My Account</h2>
        <p>Welcome! You are now logged in.</p>
        <button onclick="myAccountModal.style.display='none'">Close</button>
      </div>
    </div>

    <script>
      const loginModal = document.getElementById("loginModal");
      const myAccountModal = document.getElementById("myAccountModal");
      const loginMessage = document.getElementById("loginMessage");
      const welcomeMessage = document.getElementById("welcomeMessage");

      function showWelcome(email) {
        welcomeMessage.textContent = `Welcome, ${email}!`;
      }

      const savedUser = sessionStorage.getItem("loggedInUser");
      if (savedUser) showWelcome(savedUser);

      const accountMessage = document.getElementById("accountStatusMessage");

      document.querySelectorAll(".nav a").forEach((link) => {
        if (link.textContent.trim() === "Account") {
          link.addEventListener("click", (e) => {
            e.preventDefault();

            const user = sessionStorage.getItem("loggedInUser");

            if (user) {
              accountMessage.textContent = `You are already logged in as ${user}`;
              accountMessage.style.display = "block";

              setTimeout(() => {
                accountMessage.style.display = "none";
              }, 2500);
            } else {
              loginModal.style.display = "flex";
            }
          });
        }
      });

      document.getElementById("closeLogin").addEventListener("click", () => {
        loginModal.style.display = "none";
        loginMessage.textContent = "";
      });
      document.getElementById("closeAccount").addEventListener("click", () => {
        myAccountModal.style.display = "none";
      });

      [loginModal, myAccountModal].forEach((modal) => {
        modal.addEventListener("click", (e) => {
          if (e.target === modal) modal.style.display = "none";
        });
      });

      document.getElementById("loginBtn").addEventListener("click", () => {
        const email = document.getElementById("loginEmail").value.trim();
        const password = document.getElementById("loginPassword").value.trim();
        if (!email || !password) {
          loginMessage.textContent = "Please enter email and password.";
          loginMessage.style.color = "red";
          return;
        }
        sessionStorage.setItem("loggedInUser", email);
        showWelcome(email);
        loginMessage.textContent = "Login successful!";
        loginMessage.style.color = "green";
        setTimeout(() => {
          loginModal.style.display = "none";
          loginMessage.textContent = "";
          document.getElementById("loginEmail").value = "";
          document.getElementById("loginPassword").value = "";
        }, 1500);
      });

      document
        .getElementById("createAccountBtn")
        .addEventListener("click", () => {
          const email = document.getElementById("loginEmail").value.trim();
          if (!email) {
            loginMessage.textContent = "Please enter your email.";
            loginMessage.style.color = "red";
            return;
          }
          sessionStorage.setItem("loggedInUser", email);
          showWelcome(email);
          loginMessage.textContent = "Account created üéâ";
          loginMessage.style.color = "green";
          setTimeout(() => {
            loginModal.style.display = "none";
            loginMessage.textContent = "";
            document.getElementById("loginEmail").value = "";
            document.getElementById("loginPassword").value = "";
          }, 1500);
        });
    </script>
  </body>
</html>
